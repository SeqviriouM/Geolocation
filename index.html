<!DOCTYPE html>
<html>
  <head>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <script src="./js/analize_route.js" type="text/javascript"></script>

    <title>Геолокация</title>


  </head>

  <body>

    <div class="middle">
        
        <form class="form_class" name="form" id="form">
          <div class="form-group">
            <div style="text-align: center">
              <b><label>Заполните следующие поля</label></b>
            </div>
          </div>
          <div class="form-group">
            <label>От: </label>
            <input type="text" name="from" id="from" placeholder="Место отправления" size=25>
          </div>
          <div class="form-group">
            <label>До: </label>
            <input type="text" name="to" id="to" placeholder="Место прибытия" size=25>
          </div>
          <div class="form-group">
            <label>Вид транспорта: </label>
          </div>
          <div class="form-group">
            <input type="radio" name="transport" value="airplane">Самолет
            <input type="radio" name="transport" value="train">Поезд
            <input type="radio" name="transport" value="ship">Корабль
            <input type="radio" name="transport" value="bus">Автобус<br><br>
            <input type="radio" name="transport" value="another">Другой вид транспорта:  
            <input type="text" placeholder="Название транспорта" id="another_transport" name="another_transport" size=25 disabled>
          </div>
          
          <div class="form-group">
            <label>Информация по текущему отрезку маршрута: </label>
            <br><br>
            <div id="dop_info">
              <div  id="group_info0">
                <input type="text" id="property0" name="property0" placeholder="Название свойства">: 
                <input type="text" id="value0" name="value0" placeholder="Значение">
                <br><br>
              </div>
            </div>
            <br>
            <input type="button" value="Добавить поле" onclick="add()" style="width:140px">
            <input type="button" value="Удалить поле" onclick="del()" style="width:140px">
          </div>
          <div id="res_div_text">
            
          </div>
          <div class="form-group">
            <input type="button" value="Сохранить текущую карточку и ввести еще" onclick="save()">
          </div>
          <div class="form-group">
            <input type="button" value="Сбросить все" onclick="location.reload()">
            <input type="button" value="Расчитать маршрут" class="next" onclick="next()" >
          </div>           
        </form>
    
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

    <script>

    var c = 1; // номер вновь созданного текстового поля

    // Обработка событий изменнения значений radio и checkbox 
    $(function(){
    // Активация текстового поля для ввода названия транспорта при выборе варианта "Другой вид транспорта"
    $('input[name=transport]:radio').change(function() {
      if (this.value === "another") {
        $('#another_transport').prop('disabled', false);
      } else {
        $('#another_transport').prop('disabled', true);
      }
    }); 
  })     

  // Функция удаления ненужных полей(вызывается при нажатии кнопки "Удалить поле")
  function del() {
    c--;
    if (c > 0) {
      $('#group_info' + c).remove();
        
    } else {
      c++;
    }
     
  }
  
  // Функция добавления поля(вызывается при нажатии кнопки "Добавить поле") 
  function add() {
    $('#dop_info').append('<div  id="group_info'+ c + '"><input type="text" id="property'+ c + '" name="property' + c + '" placeholder="Название свойства">: <input type="text" id="value' + c + '" name="value' + c +'" placeholder="Значение"><br><br></div>');
    c++;

  }
  </script>

   </body>
</html>
